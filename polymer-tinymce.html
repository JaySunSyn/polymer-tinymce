<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-button/paper-button.html">
<script src="../tinymce/tinymce.min.js"></script>

<dom-module id="polymer-tinymce">

  <style>

    :host {


    }

  </style>

  <template>
  	<textarea name="content" style="width:100%" class="te"></textarea>
  </template>

</dom-module>

<polymer-tinymce></polymer-tinymce>

<script>

  Polymer({

    is: 'polymer-tinymce',

    properties:{

    	// insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image
    	
    	toolbar:{
    		type:String,
    		value:"undo redo | bullist"
    	},

    	// ["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste"]

    	plugins:{
    		type:Array,
    		value:["advlist autolink lists link image charmap preview"]
    	}
    	
    },

    attached:function(){
    	tinymce.init({
		    selector: "textarea",
		    plugins:this.plugins,
		    toolbar:this.toolbar,

			setup: function (ed) {
		        ed.on('init', function(args) {

		        	this.fire('tiny-init');
		            
		        });

		        ed.on('focus', function(e) {

		            this.fire('tiny-focus');

		        });

		        ed.on('NodeChange', function(e) {

		            this.fire('tiny-node-changed');

		        });

		    }
		});
    },

    execCommand:function(command){
    	tinyMCE.activeEditor.execCommand(command);
    }

  });

</script>


